<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
</head>

<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.27.2/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>

    <div id="app"></div>

    <script>
        const app = new Vue({
            el: "#app",
            data() {
                return {
                    urlSearch: 'https://forum.netmarble.com/api/game/enngb/official/forum/enngb_en/member/list?keyword=',
                    urlInfo: 'https://forum.netmarble.com/api/game/enngb/official/forum/enngb_en/member/',
                    players: [
                        'Groomng',
                        'Gromong',
                        'AleMartinez',
                        'Kdlaum',
                        'Thatwolf',
                        'Draw0',
                        'MacCrazy',
                        'Ausir',
                        'darksaraiva',
                        'Odeio',
                        'iSamuk',
                        '17naurna',
                        'CHICOAK',
                        'Halync',
                        'Jessyy',
                        'Aoshisaki',
                        'Bori',
                        'Steamer',
                        'd3vgod',
                        'roicim',
                        'Socialista',
                        'cryMarcia',
                        'Skaham',
                        'Salsichinha',
                        'D3xTeR',
                        'Kaulyna',
                        'Hayliel',
                        'LyonHeart',
                        'Kiier',
                        'FuryLuxury',
                        'WillHirinho',
                        'Cisaofofinho',
                        'Kurotsuch',
                        'MiBRvip',
                        'Silveiru',
                        'iLovyouso',
                        'Talavalkov',
                    ],
                    results: {}
                }
            },
            async created() {
                await _.each(this.players, (pl, index) => {
                    axios.get(this.urlSearch + pl).then(({ data }) => {
                        if (data.memberList.length > 0) {
                            axios.get(this.urlInfo + data.memberList[0].memberSeq).then(({ data }) => {

                                this.results[index] = {
                                    memberSeq: data.member.memberSeq,
                                    name: data.member.character.charName,
                                    level: data.member.character.level,
                                }
                            })
                        }
                    });
                });

                setTimeout(() => {
                    console.log(this.results)
                }, 3000)

            }
        });
    </script>
</body>

</html>
